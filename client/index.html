<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Go</title>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="port.js"></script>
		<script src="connection.js"></script>
		<script src="vector.js"></script>
		<script src="graphics.js"></script>
		<script src="game.js"></script>
		<script src="cursor.js"></script>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<h1>Coole Überschrift</h1>
		<div id="content">
			Bitte aktivieren Sie JavaScript in Ihrem Browser, um diese Seite richtig darzustellen. 
			Eigentlich sollten Sie hier Go spielen können...
		</div>
		<script>
			function showTemplate(template, handler){
				$.ajax({
					url: "templates/" + template + ".html",
					success: function(html) {
						$("#content").html("");
						var node = $(html);
						node.appendTo($("#content"));
						if(handler !== undefined) {
							handler($("#content"));
						}
					}
				});
			}
			
			$(function(){
				showTemplate("loading");
				console.log("Hello");
				Connection.init();
				Connection.addMessageListener("setName", function(data){
					showTemplate("start", function(node) {
						node.find("#my_name").html(data);
					});
				});
				Connection.addOpenListener(function(evt){
				});
			});
		</script>
	</body>
</html>
